<?xml version="1.0" encoding="utf-8"?>

<ContentPage
    x:Class="Stickr.Views.CollectionsView"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:viewModels="clr-namespace:Stickr.ViewModels"
    xmlns:elementsViewModels="clr-namespace:Stickr.ViewModels.Elements"
    x:DataType="viewModels:CollectionsViewModel"
    Title="Collections">

    <Grid RowDefinitions="Auto,*">

        <!-- Loading indicator -->
        <ActivityIndicator
            Grid.Row="0"
            IsVisible="{Binding IsBusy}"
            IsRunning="{Binding IsBusy}"
            HorizontalOptions="Center"
            Margin="12" />

        <!-- Collections list -->
        <CollectionView
            Grid.Row="1"
            ItemsSource="{Binding Collections}"
            SelectionMode="None">

            <CollectionView.ItemTemplate>
                <DataTemplate
                    x:DataType="elementsViewModels:CollectionItemViewModel">

                    <Frame
                        Margin="12"
                        Padding="12"
                        CornerRadius="12"
                        HasShadow="True">

                        <VerticalStackLayout Spacing="8">

                            <Label
                                Text="{Binding Model.Title}"
                                FontSize="18"
                                FontAttributes="Bold" />

                            <Label
                                Text="{Binding Model.Description}"
                                FontSize="14"
                                TextColor="Gray" />

                            <Label
                                Text="{Binding StatusText}"
                                FontSize="13"
                                TextColor="DarkGray" />

                            <Button
                                Text="Start collecting"
                                Command="{Binding StartCollectingCommand}" />

                        </VerticalStackLayout>
                    </Frame>

                </DataTemplate>
            </CollectionView.ItemTemplate>

        </CollectionView>
    </Grid>
</ContentPage>